<div
  class="rounded-lg border shadow-lg hover:shadow-2xl transition-shadow duration-300"
>
  <img
    class="w-full h-48 object-cover rounded-t-lg"
    [src]="product.imageUrl || 'https://via.placeholder.com/150'"
    [alt]="product.name"
  />

  <div class="p-4">
    <h2 class="text-lg font-semibold text-gray-800 truncate">
      {{ product.name }}
    </h2>

    <p class="text-sm text-gray-500">{{ product.category }}</p>

    <div class="mt-2 text-xl font-bold text-green-600">
      {{ product.price | currency : "EUR" }}
    </div>

    <p
      class="mt-1 text-sm"
      [class]="product.stock > 0 ? 'text-green-500' : 'text-red-500'"
    >
      {{ product.stock > 0 ? "In Stock" : "Out of Stock" }}
    </p>

    <div class="mt-2 flex flex-wrap gap-1">
      @for(tag of product.tags; track $index) {
      <ng-container>
        <span
          class="bg-gray-200 text-xs font-medium text-gray-600 py-1 px-2 rounded"
        >
          {{ tag }}
        </span>
      </ng-container>
      }
    </div>
  </div>

  <div class="p-4 border-t flex gap-2">
    <button
      class="flex-1 bg-blue-600 text-white text-sm font-semibold py-2 px-4 rounded hover:bg-blue-500 transition-colors"
    >
      Add to cart
    </button>
  </div>

  <div class="p-4 flex gap-2">
    @if(auth.isLogged) {
    <a
      [routerLink]="['/editor', product.id]"
      class="flex-1 bg-blue-600 text-white text-sm font-semibold py-2 px-4 rounded text-center hover:bg-blue-500 transition-colors"
    >
      Edit
    </a>

    <button
      (click)="deleteProduct()"
      class="flex-1 bg-red-600 text-white text-sm font-semibold py-2 px-4 rounded hover:bg-red-700 transition-colors"
    >
      Delete
    </button>
    }
  </div>
</div>
